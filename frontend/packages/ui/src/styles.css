/**
 * @exploresg.frontend/ui - Global Styles
 * * This file serves as the single source of truth for the Design System.
 * It initializes Tailwind CSS v4, sets up typography, and defines shared utilities.
 * * Usage:
 * Apps should import this file once in their root (e.g., `src/main.tsx` or `src/index.css`).
 * @import "@exploresg.frontend/ui/styles";
 */

/* -------------------------------------------------------------------------- */
/* 1. EXTERNAL DEPENDENCIES                                                   */
/* -------------------------------------------------------------------------- */

/* Primary Font: Poppins */
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap");

/* Initialize Tailwind CSS v4 framework */
@import "tailwindcss";

/* -------------------------------------------------------------------------- */
/* 2. CONTENT SCANNING (Monorepo Configuration)                               */
/* -------------------------------------------------------------------------- */
/* * Tailwind v4 JIT (Just-In-Time) engine needs to know where to look for class names.
 * Since this file lives in `packages/ui`, we explicitly point to the component sources.
 * This ensures that classes used in `packages/ui` are generated even if the 
 * consuming app doesn't have them in its own source code.
 */
@source "./components/**/*.{js,jsx,ts,tsx,mdx}";
@source "./layout/**/*.{js,jsx,ts,tsx,mdx}";
@source "./branding/**/*.{js,jsx,ts,tsx,mdx}";

/* -------------------------------------------------------------------------- */
/* 3. DESIGN TOKENS & THEME CONFIGURATION                                     */
/* -------------------------------------------------------------------------- */
@theme {
  /* * Fluid Typography Scale
   * Uses `clamp()` to smoothly scale text between a minimum (mobile) and maximum (desktop) size.
   * Access via: `text-fluid-base`, `text-fluid-xl`, etc.
   */
  --font-size-fluid-base: clamp(0.875rem, 1.5vw, 1rem);
  --font-size-fluid-sm: clamp(0.8125rem, 1.5vw, 0.875rem);
  --font-size-fluid-xs: clamp(0.75rem, 1.5vw, 0.8125rem);
  --font-size-fluid-lg: clamp(1rem, 2vw, 1.125rem);
  --font-size-fluid-xl: clamp(1.125rem, 2.5vw, 1.25rem);
  --font-size-fluid-2xl: clamp(1.25rem, 3vw, 1.5rem);
  --font-size-fluid-3xl: clamp(1.5rem, 4vw, 1.875rem);

  /* * Custom Animation Keyframes & Utilities 
   * Putting them here automatically generates `animate-{name}` utility classes.
   */
  --animate-gentle-zoom: gentle-zoom 16s ease-in-out infinite;
  --animate-rotate-bounce: rotate 1.2s linear infinite, gentle-bounce 1.2s ease-in-out infinite;
  --animate-bounce-logo: bounce-logo 1s ease-in-out infinite;

  @keyframes gentle-zoom {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }
  @keyframes rotate {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
  @keyframes gentle-bounce {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-8%);
    }
  }
  @keyframes bounce-logo {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-6%);
    }
  }
}

/* -------------------------------------------------------------------------- */
/* 4. GLOBAL RESET (Base Layer)                                               */
/* -------------------------------------------------------------------------- */
@layer base {
  :root {
    font-family: "Poppins", system-ui, Avenir, Helvetica, Arial, sans-serif;
    line-height: 1.5;
    font-weight: 400;

    /* Improve font rendering across OS/Browsers */
    font-synthesis: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* -------------------------------------------------------------------------- */
/* 5. SHARED UTILITIES                                                        */
/* -------------------------------------------------------------------------- */
@layer utilities {
  /* --- Cross-Browser Custom Scrollbars --- */

  /* Utility for Firefox/Standard compliance */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #cbd5e1 transparent;
  }

  /* Webkit (Chrome, Edge, Safari) overrides */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background-color: #cbd5e1; /* gray-300 matching Tailwind palette */
    border-radius: 20px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background-color: #94a3b8; /* gray-400 on hover */
  }

  /* --- Performance-Optimized Animations --- */
  /* Using `will-change` ensures the browser promotes these elements 
     to a new compositor layer, preventing layout thrashing during animation. */

  .bg-zoom-animate {
    animation: var(--animate-gentle-zoom);
    will-change: transform;
  }
  .animate-rotate-bounce {
    animation: var(--animate-rotate-bounce);
    will-change: transform;
  }
  .animate-bounce-logo {
    animation: var(--animate-bounce-logo);
    will-change: transform;
  }
}
